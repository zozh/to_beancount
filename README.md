# to_beancount

## ç¯å¢ƒ

- **Python ç‰ˆæœ¬**ï¼š3.13.1
- **æ“ä½œç³»ç»Ÿ**ï¼šWindows 11

## èµ·æº

æ˜¥èŠ‚è¿‡åï¼Œæˆ‘å‘ç°è‡ªå·±åœ¨å‡æœŸçš„æ¶ˆè´¹æœ‰äº›å¤±æ§ã€‚äºæ˜¯ï¼Œæˆ‘åœ¨æŸ¥çœ‹å¾®ä¿¡æ”¯ä»˜è´¦å•ï¼Œè¯•å›¾æ‰¾å‡ºé—®é¢˜æ—¶ã€‚å‘ç°å¾®ä¿¡è´¦å•çš„ç²¾åº¦è®©æˆ‘æ„Ÿåˆ°å¤±æœ›â€”â€”å®ƒåªæ˜¯ç®€å•åœ°ç½—åˆ—äº†æ¯ä¸€ç¬”äº¤æ˜“ï¼Œå´æ²¡æœ‰æä¾›æ›´æ·±å…¥çš„è´¢åŠ¡åˆ†æã€‚ä¹Ÿå°±æ„å‘³ç€å¦‚æœæƒ³è¦æ›´å¥½åœ°ç®¡ç†è‡ªå·±çš„è´¢åŠ¡ï¼Œä»…é å¾®ä¿¡è´¦å•æ˜¯è¿œè¿œä¸å¤Ÿçš„ã€‚å°±åœ¨è¿™æ—¶ï¼Œæˆ‘å¶ç„¶æ¥è§¦åˆ°äº†å¤å¼è®°è´¦æ³•å’Œ Beancountã€‚Beancount æ˜¯ä¸€ä¸ªå¼ºå¤§çš„å¤å¼è®°è´¦å·¥å…·ï¼Œå®ƒèƒ½å¤Ÿå¸®åŠ©æˆ‘æ›´ç³»ç»Ÿåœ°è®°å½•å’Œåˆ†ææ¯ä¸€ç¬”æ”¶æ”¯ï¼Œä»è€Œæ›´å¥½åœ°æŒæ¡è‡ªå·±çš„è´¢åŠ¡çŠ¶å†µã€‚æˆ‘ç«‹åˆ»è¢«å®ƒå¸å¼•ä½äº†ï¼Œä½†å¾ˆå¿«åˆé‡åˆ°äº†æ–°çš„é—®é¢˜ï¼šæ‰‹åŠ¨è®°å½•è´¦ç›®å®åœ¨æ˜¯å¤ªç¹çäº†ï¼Œæˆ‘æ ¹æœ¬æ— æ³•åšæŒä¸‹å»ã€‚äºæ˜¯ï¼Œæˆ‘å†³å®šå¼€å‘ä¸€ä¸ªç¨‹åºï¼Œå°†å¾®ä¿¡æ”¯ä»˜è´¦å•è‡ªåŠ¨è½¬åŒ–ä¸º Beancount æ ¼å¼ã€‚è¿™æ ·ï¼Œæˆ‘æ—¢å¯ä»¥åˆ©ç”¨ Beancount çš„å¼ºå¤§åŠŸèƒ½ï¼Œåˆä¸éœ€è¦æ‰‹åŠ¨è®°å½•è´¦ç›®ã€‚ç»è¿‡ä¸€ç•ªåŠªåŠ›ï¼Œto_beancount è¯ç”Ÿäº†ï¼ğŸ‰

## ä½¿ç”¨æ–¹å¼

### 1. åº”ç”¨åˆå§‹åŒ–

åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹è¿è¡Œä»¥ä¸‹å‘½ä»¤ä»¥åˆå§‹åŒ–åº”ç”¨ï¼š

```cmd
py.exe .\beancount_helper\main.py -i
```

### 2. è®¾ç½®è§„åˆ™

ä¸ºå¾®ä¿¡æ”¯ä»˜è®¾ç½®è§„åˆ™æ–‡ä»¶ï¼Œä¼šä½¿ç”¨é»˜è®¤åº”ç”¨æ‰“å¼€ï¼ŒåŒæ—¶è¾“å‡ºè·¯å¾„ä½ç½®ï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

```cmd
py.exe .\beancount_helper\main.py -gr wechat
è§„åˆ™æ–‡ä»¶è·¯å¾„:C:\Users\xxx\AppData\Local\beancount_helper\data\rule\wechat_rule.xlsx
```

### 3. è´¦æˆ·æ˜ å°„

å°†å¾®ä¿¡æ”¯ä»˜è´¦å•æ–‡ä»¶æ˜ å°„åˆ° Beancount æ ¼å¼ã€‚è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

```cmd
py.exe .\beancount_helper\main.py -t "å¾®ä¿¡æ”¯ä»˜è´¦å•(20250101-20250221).csv" -a wechat
æ˜ å°„åæ–‡ä»¶è·¯å¾„ï¼šC:\Users\xxx\AppData\Local\beancount_helper\data\temp\2025-02-26_14-48-01_4355.csv
```

### 4. æ˜ å°„åˆ° Beancount

å°†æ˜ å°„åçš„æ–‡ä»¶è½¬æ¢ä¸º Beancount æ ¼å¼ã€‚è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

```cmd
py.exe .\beancount_helper\main.py -t  "2025-02-26_14-48-01_4355.csv" -b
2025-02-26 14:48:32 - beancount_helper - INFO - æ ¼å¼æ£€æŸ¥æˆåŠŸï¼
2025-02-26 14:48:32 - beancount_helper - DEBUG - Beancount ç›®å½•: C:\Users\xxx\AppData\Local\beancount_helper\data\bean
2025-02-26 14:48:32 - beancount_helper - DEBUG - ä¸´æ—¶æ–‡ä»¶è·¯å¾„: C:\Users\xxx\AppData\Local\beancount_helper\data\bean\tmp9em7irz1.bean
2025-02-26 14:48:32 - beancount_helper - DEBUG - æ–°æ–‡ä»¶è·¯å¾„: C:\Users\xxx\AppData\Local\beancount_helper\data\bean\2025-02-26_14-48-31_7671.bean
2025-02-26 14:48:32 - beancount_helper - INFO - äº¤æ˜“è®°å½•å†™å…¥æˆåŠŸï¼
```

### 5. å¯åŠ¨ Beancount GUI

å¯åŠ¨ Beancount çš„å›¾å½¢ç•Œé¢ã€‚è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

```cmd
py.exe .\beancount_helper\main.py -r
Starting Fava on <http://127.0.0.1:5001>
Fava started successfully!
Press Ctrl+C to exit...
```
